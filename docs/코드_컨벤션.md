# ğŸ§© **1. í”„ë¡œì íŠ¸ êµ¬ì¡° / íŒ¨í‚¤ì§€ êµ¬ì¡°**

### **1.1 ë ˆì´ì–´ë§ ê¸°ë³¸ ì›ì¹™**

```
api (web layer)
service (application layer)
domain (entity + repository)
infra (ì™¸ë¶€ ì—°ë™)
common (shared/util/error)
```

### **1.2 íŒ¨í‚¤ì§€ ë„¤ì´ë°**

- ì†Œë¬¸ì
- ë„ë©”ì¸ ë‹¨ìœ„ ìš°ì„ 

ì˜ˆ:

```
com.company.project
 â””â”€â”€user
      â”œâ”€â”€ api
      â”œâ”€â”€ service
      â”œâ”€â”€ domain
      â””â”€â”€ infra
```

---

# ğŸ§© **2. í´ë˜ìŠ¤/íŒŒì¼/ë©”ì„œë“œ ì»¨ë²¤ì…˜**

### **2.1 í´ë˜ìŠ¤ ëª…**

- **ëª…ì‚¬ ì‚¬ìš©**
- PascalCase
- Service/Controller/Scheduler/Postfix í¬í•¨

ì˜ˆ:

```
UserController
UserService
UserRepository
UserEventPublisher
```

### **2.2 ë©”ì„œë“œ ëª…**

- camelCase
- ë™ì‚¬ + ëª©ì 

ì˜ˆ:

```
createUser()
findUserById()
deleteUser()
publishEvent()
```

### **2.3 DTO ëª…ëª… ê·œì¹™**

```
UserCreateRequest
UserCreateResponse
UserInfoResponse
UserLoginRequest
```

---

# ğŸ§© **3. Spring Bean / Annotation ì»¨ë²¤ì…˜**

### **3.1 Controller**

- `@RestController` ì‚¬ìš©
- ì—”ë“œí¬ì¸íŠ¸ëŠ” REST ê¸°ë°˜ ëª…ì‚¬ ì¤‘ì‹¬
- HTTP Method semantics ì¤€ìˆ˜ (ê³µì‹ RFC ê¸°ì¤€)

### **3.2 Service**

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ + Transaction ì²˜ë¦¬
- Controllerì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€
- íŠ¸ëœì­ì…˜ì€ ê°€ëŠ¥í•œ ìƒìœ„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì—ì„œ ì„ ì–¸

```
@Transactional
publicvoidprocess() { ... }
```

### **3.3 Repository**

- DBì—ê²Œ ì§ˆì˜í•˜ëŠ” ì½”ë“œë§Œ ìœ„ì¹˜
- JPA/Hibernate ê·œì¹™ ì¤€ìˆ˜

Not good:

```
repository.save()
eventPublisher.publish()
cache.invalidate()
```

â†’ ì´ë²¤íŠ¸/ìºì‹œ ë“± ë¶€ìˆ˜íš¨ê³¼ëŠ” Service ë ˆì´ì–´

### **3.4 Transaction**

ì›ì¹™:

âœ” ì½ê¸° ì „ìš© â†’ `@Transactional(readOnly = true)`

âœ” CUD â†’ ê¸°ë³¸ `@Transactional`

---

# ğŸ§© **4. Java ì–¸ì–´ ìŠ¤íƒ€ì¼**

### **4.1 ê³µì‹ ê·¼ê±°**

JavaëŠ” **Google Java Style Guide** + **Oracle** ê¸°ì¤€ì´ ì‹¤ë¬´ í‘œì¤€

í•µì‹¬ ìš”ì•½:

### ë„¤ì´ë°

| ì¢…ë¥˜ | ê·œì¹™ |
| --- | --- |
| Class | PascalCase |
| Method | camelCase |
| Variable | camelCase |
| Constant | UPPER_CASE + _ |

### ë“¤ì—¬ì“°ê¸° / í¬ë§¤íŒ…

- ê³µë°±ì€ space 4ì¹¸ (Spring ì§„ì˜ í‘œì¤€)
- ì¤„ë°”ê¿ˆ ê¸°ì¤€ â†’ 100 chars ë„˜ìœ¼ë©´ wrap

---

# ğŸ§© **5. Lombok ê·œì¹™**

âœ” `@Getter` + `@RequiredArgsConstructor` ì„ í˜¸

âœ” DTOì—ì„œëŠ” `@Builder` ì„ í˜¸

âœ” ì—”í‹°í‹°ì—ì„œëŠ” `@Builder` ì§€ì–‘ (ë¶ˆë³€ì„±/ëˆ„ë½ ë°©ì§€)

âŒ `@Data` ê¸ˆì§€ ì´ìœ :

- equals/hashCode ê°•ì œ
- toString ìœ„í—˜ (ìˆœí™˜ì°¸ì¡°)
- JPA ì—”í‹°í‹°ì™€ ì¶©ëŒ

---

# ğŸ§© **6. JPA/Hibernate ì»¨ë²¤ì…˜**

### **6.1 ì—”í‹°í‹° ì„¤ê³„**

âœ” setter ì œê±° (`protected` ì œí•œ)

âœ” ìƒì„±ì + ì •ì  íŒ©í† ë¦¬ ë°©ì‹

âœ” ì—°ê´€ê´€ê³„ëŠ” ë‹¨ë°©í–¥ ìš°ì„ 

âœ” LAZY ê¸°ë³¸

âœ” ì»¬ë ‰ì…˜ í•„ë“œëŠ” ë³€ê²½ ë¶ˆê°€

### **6.2 ID ì „ëµ**

- Prefer: `@GeneratedValue(strategy = IDENTITY)`
- UUIDë¼ë©´ DB ì €ì¥ ë°©ì‹ í†µì¼ (binary vs varchar)

---

# ğŸ§© **7. API / Controller ì»¨ë²¤ì…˜**

### **7.1 REST URI**

- ëª…ì‚¬ ì¤‘ì‹¬
- kebab-case
- HTTP method semantics ì¤€ìˆ˜

```
GET /users
GET /users/{userId}
POST /users
PATCH /users/{userId}
DELETE /users/{userId}
```

### **7.2 Response Envelope**

```
{
  "code": "SUCCESS",
  "message": "ìš”ì²­ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤.",
  "data": {
  
  }
}
```

### **7.3 Error ì»¨ë²¤ì…˜**

```
{
  "code": "ERROR_CODE",
  "message": "ERROR MESSAGE",
  "data": null
}
```

---

# ğŸ§© **8. Exception ì»¨ë²¤ì…˜**

### **ì‹¤ë¬´ ê·œì¹™**

- ì„œë¹„ìŠ¤/ë„ë©”ì¸ ì˜¤ë¥˜ë¥¼ Exceptionìœ¼ë¡œ í‘œí˜„
- ì²´í¬ì˜ˆì™¸ ì‚¬ìš© ê¸ˆì§€
- IllegalArgumentException/IllegalStateException í™œìš©

### **Spring WebErrorMapping**

`@ControllerAdvice` + `@ExceptionHandler` í•„ìˆ˜

---

# ğŸ§© **9. Validation ì»¨ë²¤ì…˜**

âœ” Request DTOì—ì„œ `@Valid`

âœ” ë©”ì‹œì§€ëŠ” êµ¬ì²´ì ìœ¼ë¡œ

âœ” Null vs Blank êµ¬ë¶„

ì˜ˆ:

```
@NotBlank
@Size(max =100)
```

---

# ğŸ§© **10. í…ŒìŠ¤íŠ¸ ì»¨ë²¤ì…˜**

âœ” Given/When/Then

âœ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìš°ì„ 

âœ” DB í•„ìš”í•œ ê±´ slice í…ŒìŠ¤íŠ¸

ì˜ˆ:

```
@ExtendWith(MockitoExtension.class)
@DataJpaTest
@WebMvcTest
```

---

# ğŸ§© **11. ë¹Œë“œ/í™˜ê²½ ì»¨ë²¤ì…˜**

âœ” YAML ì‚¬ìš© (`application.yml`)

âœ” profileì€ ì•„ë˜ì²˜ëŸ¼

```
application.yml
application-dev.yml
application-prod.yml
```

âœ” secretsëŠ” ì™¸ë¶€ ê´€ë¦¬ (vault, AWS SM, GitOps)

# ğŸ§© **12. Record ì‚¬ìš© ì»¨ë²¤ì…˜ (DTO + ë¶ˆë³€ ê°ì²´)**

### **12.1 ê¸°ë³¸ ì›ì¹™**

- DTO, Value Object, Event, Query Response ë“± **ë¶ˆë³€ ê°ì²´ëŠ” recordë¥¼ ìš°ì„  ì‚¬ìš©í•œë‹¤.**
- recordëŠ” setter ì—†ì´ ìƒì„± ì‹œì ì— ê°’ì´ í™•ì •ë˜ëŠ” ê°ì²´ì— ì‚¬ìš©í•œë‹¤.
- ê°ì²´ì˜ ëª©ì ì´ â€œë°ì´í„° ì „ë‹¬â€ì¸ ê²½ìš° classë³´ë‹¤ recordë¥¼ ìš°ì„ í•œë‹¤.

ì˜ˆ:

```
public recordUserInfoResponse(
    Long id,
    String nickname,
    int level
) {}
```

# ğŸ§© **13. Checkstyle / Spotless**

### **13.1 ëª©ì **

- Checkstyle: ì½”ë“œ ìŠ¤íƒ€ì¼/ê·œì¹™ ìœ„ë°˜ ê²€ì‚¬ (ë¹Œë“œ ì‹¤íŒ¨)
- Spotless: í¬ë§· ìë™í™” ë° ê¸°ë³¸ ì •ë¦¬

### **13.2 ì„¤ì • ìœ„ì¹˜**

- Checkstyle: `config/checkstyle/checkstyle.xml` (Google Java Style ê¸°ë°˜, 100ì ê¸°ì¤€,
  toolVersion 13.0.0)
- Spotless: `build.gradle` (googleJavaFormat 1.28.0, unused import ì œê±°,
  trailing whitespace ì œê±°, EOF newline ë³´ì¥)

### **13.3 ì‹¤í–‰**

```
./gradlew checkstyleMain checkstyleTest
./gradlew spotlessCheck
./gradlew spotlessApply
```

# ğŸ§© 14. ê¸°íƒ€

- ê°€ëŠ¥í•œ Lombok ì–´ë…¸í…Œì´ì…˜ì„ í™œìš©í•œë‹¤.
